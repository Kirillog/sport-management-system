# Руководство по использованию программы
### Запуск
Приложение имеет только консольный интерфейс. Подробная информация о всех аргументах изложена ниже. В программе есть вcтроенная справка, которая может быть вызвана ключём ``-h``
Программа должна запускаться следующим образом: ``java -sms-sekira.jar [ARGS]``
Сигнатура аргументов имеет следующий вид: ``EVENT --target [ROOT_DIR]``. Пример запуска: ``skying-winter-2021 --toss``
+ ``EVENTS`` задаёт имя директории, в которой хранится вся необходимая, информация о соревновании. Её структуру можно узнать ниже в этом же файле
+ ``target`` может принимать одно из следующих значений:
+ + ``toss`` провести жеребьевку имея списки заявок команд-участниц
+ + ``personal`` на основе проведённой жеребьёвки и результатов забегов участников сформировать личные результаты участников по группам
+ + ``team`` на основе проведённой жеребьёвки и результатов забегов участников сформировать командные результаты
+ ``ROOT_DIR`` задаёт путь до директории в которой содержится директорий текущего соревнования указанного в аргументе ``EVENTS``. По умолчанию задано значением ``competitions``
### Файловая структура директория соревнования
+ ``ROOT-DIR``(задаётся при помощи одноимённого аргумента)
+ + ``competition-1``
+ + + ``applications`` содержит список файлов являющимися заявками команд-участниц
+ + + ``checkpoints`` содержит список файлов, в каждом из котором записана информация полученная во время забега для каждой из контрольных точек
+ + + ``input`` содержит основную информацию о соревновании
+ + + + ``classes.csv`` содержит информацию о том, какому маршруту должна следовать каждая из групп
+ + + + ``courses.csv`` содержит информацию о каждом из маршрутов в виде списка контрольных точек
+ + + + ``event.csv`` содержит метаинформацию о мероприятии, такую как дата и название
+ + + ``protocols`` директория, в которую программа будет выводить все результаты своей работы: жеребьёвку, командные и личные результаты
+ + + + ``results.csv`` Файл куда наша программа должна сохранить результат сгруппированный по категориям участников. В нём необходимо для каждого спортсмена подсчитывать отставание от лидера и место в категории.
+ + + + ``team_results.csv`` Файл куда наша программа должна сохранить командный результат для каждой из команд
+ + ``competition-2``
+ + ``competition-3``

### Проверка работоспособности
Для упрощения тестирования к программе также написаны генераторы различных данных для проверки работоспособности. Все они находятся в директории ``oop-2021-sport-management-system-sekira/src/test/kotlin/``. Отдельно стоит отметить файл ``CheckPointProtocolGenerating.kt``, который позволяет по проведённой жеребьёвке виртуально провести соревнования. Очень удобно удобно для подделки результатов.

### Предполагаемый сценарий использования программы
1. Создаются все файлы из директории ``input``, так как они необходимы для проведения мероприятия
2. Приходят заявки от команд, которые необходимо поместить в директорию ``applications``
3. При помощи цели ``--toss`` проводится жеребьёвка, на основе которой проводятся забеги участников
4. После забега необходимо записать информацию о пробегающих участниках для каждой контрольной точки в папку ``checkpoints``
5. При помощи целей ``--personal`` и ``--team`` получаются личные и командные результаты соответственно
